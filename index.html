<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<title>0q.canvas</title>
	<meta name="description" content="0q's portfolio">
	<link rel="stylesheet" href="stylesheets/styles.css">
	<script src="javascripts/processing.js"></script>
<script>
window.onload = function(){
	var canvas = document.getElementsByTagName("canvas")[0];
	var codeElm = document.getElementById("processing-code");
	var code = codeElm.textContent || codeElm.innerHText;
	new Processing(canvas, code);
}
</script>
<script id="processing-code" type="application/processing">
void setup(){
	size(window.innerWidth,window.innerHeight);
	smooth();
	background(255);
	noStroke();
	rectMode(CENTER);
	ellipseMode(CENTER);
	frameRate(30);
	window.onresize = function()
	{
		size(window.innerWidth,window.innerHeight);
	};
	
	setup2();
}

Square test,test2;

void setup2(){
	console.log("on");
	test= new Square([width/2, 100],[100,100]);
	test2= new Square([width/2, height/2],[1200,1020]);
}

float r;

void draw(){
	r+=0.01;
	background(255);

	fill(200);
	ellipse(width/2, height/2, sqrt(20000),sqrt(20000));

	fill(0);
	pushMatrix();
	test.rotater(r*10);
	test.display();
	popMatrix();

	fill(210,10,10,19);
	pushMatrix();
	test2.rotater(r*10);
	test2.display();
	popMatrix();

	pushMatrix();
	fill(100);
	translate(width/2, height/2);
    rotate(r);
    rect(0, 0, 60, 60);
    popMatrix();
}

class Square {

	float[] pos;
	float[] sz;
	
	Square(float[] _pos, float[] _sz){
		pos = _pos;
		sz = _sz;
	}

	void rotater(int a){
		translate(this.pos[0], this.pos[1]);
		rotate(a);
	}

	void display(){
		rect(0, 0, this.sz[0], this.sz[0]);
	}
}
</script>
</head>
<body>
<div id ="container">
	<canvas id="main"></canvas>
	<div id="header">
		<h1>0q.canvas</h1>
		Here is Ryota Kojima's portfolio.
	</div>
</div>
</body>
</html>